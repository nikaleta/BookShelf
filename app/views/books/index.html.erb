<h1>Listing books</h1>

<%= form_tag books_path, :method => 'get' do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
<% end %>


<%= link_to 'Add new book', new_book_path %>
<% if @books.count > 0 %>
<table>
	<tr>
		<th>Title</th>
		<th>Author</th>
		<th>Description</th>
		<th>Publication</th>
		<th colspan="4"></th>
	</tr>

	<% @books.each do |book| %>
	<tr>
		<td><%= book.title %></td>
		<td><%= book.author.name %></td>
		<td><%= book.description %></td>
		<td><%= book.publication %></td>
		<td><%= link_to 'Show', book_path(book) %></td>
		<td><%= link_to 'Edit', edit_book_path(book) %></td>
		<td><%= link_to 'Delete', book_path(book), method: :delete, data: { confirm: 'Are you sure?' } %></td>
	</tr>
	<% end %>
</table>
<% else %>
  <p>No items found!</p>
<% end %>
